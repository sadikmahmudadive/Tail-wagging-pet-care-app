<?xml version="1.0" encoding="utf-8"?>
<androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/main"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@drawable/background_dashboard"
    tools:context=".MyPetsActivity">

    <!-- Top Bar: Statically Positioned -->
    <androidx.cardview.widget.CardView
        android:id="@+id/topBar"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginStart="16dp"
        android:layout_marginTop="16dp"
        android:layout_marginEnd="16dp"
        android:layout_marginBottom="8dp"
        app:cardElevation="8dp"
        app:cardCornerRadius="20dp"
        app:cardPreventCornerOverlap="false"
        app:cardUseCompatPadding="true">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="56dp"
            android:background="@android:color/white">

            <ImageButton
                android:id="@+id/buttonBack"
                android:layout_width="40dp"
                android:layout_height="40dp"
                android:layout_marginStart="12dp"
                android:src="@drawable/ic_arrow_back"
                android:background="@drawable/logout_button"
                app:tint="?attr/colorControlNormal"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent"
                android:contentDescription="Back" />

            <TextView
                android:id="@+id/topBarTitle"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:text="My Pets"
                android:textSize="20sp"
                android:textStyle="bold"
                android:textColor="@color/dark_blue"
                app:layout_constraintTop_toTopOf="parent"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintStart_toEndOf="@id/buttonBack"
                app:layout_constraintEnd_toStartOf="@id/buttonLogout"
                android:layout_marginStart="16dp"
                android:layout_marginEnd="8dp"/>

        </androidx.constraintlayout.widget.ConstraintLayout>
    </androidx.cardview.widget.CardView>

    <androidx.recyclerview.widget.RecyclerView
        android:id="@+id/recyclerViewPets"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:paddingStart="8dp"
        android:paddingEnd="8dp"
        android:paddingBottom="80dp"
        android:clipToPadding="false"
        app:layoutManager="androidx.recyclerview.widget.LinearLayoutManager"
        tools:listitem="@layout/item_pet_card"
        app:layout_behavior="@string/appbar_scrolling_view_behavior" />
    <!-- Using appbar_scrolling_view_behavior assumes topBar could be part of an AppBarLayout.
         If not, you might need to set marginTop on RecyclerView to be below topBar.
         For simplicity, if topBar is not in an AppBarLayout, you can remove app:layout_behavior
         and set android:layout_marginTop="YOUR_TOP_BAR_HEIGHT_PLUS_MARGINS"
         e.g. android:layout_marginTop="88dp" (approx height of CardView + its margins) -->

    <!-- "No Pets" Message Layout -->
    <LinearLayout
        android:id="@+id/layoutNoPets"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:gravity="center_horizontal"
        android:layout_gravity="center"
        android:padding="16dp"
        android:visibility="gone"> <!-- Set to visible when no pets -->

        <ImageView
            android:layout_width="64dp"
            android:layout_height="64dp"
            android:src="@drawable/ic_paw_print_sad"
            app:tint="@color/grey_medium"
            android:layout_marginBottom="8dp"
            android:contentDescription="No pets icon"/>

        <TextView
            android:id="@+id/textViewNoPets"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="No pets added yet."
            android:textSize="18sp"
            android:textColor="@color/grey_dark"
            android:gravity="center"/>

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Tap the '+' button to add your furry friend!"
            android:textSize="14sp"
            android:textColor="@color/grey_medium"
            android:layout_marginTop="4dp"
            android:gravity="center"/>
    </LinearLayout>

    <com.google.android.material.floatingactionbutton.FloatingActionButton
        android:id="@+id/fabAddPet"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="bottom|end"
        android:layout_margin="24dp"
        android:src="@drawable/ic_add"
        app:backgroundTint="@color/magenta"
        android:contentDescription="Add Pet"
        app:elevation="6dp"/>

</androidx.coordinatorlayout.widget.CoordinatorLayout>